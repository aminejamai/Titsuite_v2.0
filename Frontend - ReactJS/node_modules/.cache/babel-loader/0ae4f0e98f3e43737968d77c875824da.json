{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amine\\\\Desktop\\\\Projet JEE\\\\Frontend\\\\titsuite\\\\src\\\\components\\\\CustomerProfile.js\";\nimport { React, Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport HorizontalNav from './HorizontalNav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CustomerProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      firstName: '',\n      lastName: '',\n      phoneNumber: '',\n      birthDate: '',\n      city: '',\n      address: '',\n      subscription: '',\n      in_edit: false\n    };\n\n    this.handleProfileChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleProfileUpdate = event => {\n      event.preventDefault();\n      const user = {\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        phoneNumber: this.state.phoneNumber,\n        birthDate: this.state.birthDate,\n        city: this.state.city,\n        address: this.state.address,\n        activity: this.state.activity,\n        minimumWage: this.state.minimumWage\n      };\n      console.log(user);\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n      };\n      fetch('/Titsuite-1.0-SNAPSHOT/api/users/profile/update', requestOptions).then(res => res.json()).then(data => {\n        console.log(data);\n      });\n    };\n\n    this.handleChange = event => {\n      console.log(event);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleLogout = event => {\n      event.preventDefault();\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      fetch('/Titsuite-1.0-SNAPSHOT/api/users/logout', requestOptions).then(res => res.json()).then(data => {\n        console.log(data);\n        this.props.history.push('/login');\n      });\n    };\n\n    this.formatDate = date => {\n      let d = new Date(date),\n          month = '' + (d.getMonth() + 1),\n          day = '' + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day;\n      return [year, month, day].join('-');\n    };\n  }\n\n  componentDidMount() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    fetch('/Titsuite-1.0-SNAPSHOT/api/users/profile', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data != null) {\n        console.log(data);\n        this.setState({\n          email: data.email,\n          firstName: data.firstName,\n          lastName: data.lastName,\n          phoneNumber: data.phoneNumber,\n          birthDate: data.birthDate,\n          city: data.city,\n          address: data.address,\n          subscription: data.subscription\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2\",\n        children: /*#__PURE__*/_jsxDEV(HorizontalNav, {\n          logout: this.props.rest.logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col Content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"freelancerProfile\",\n          children: \"Customer Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"floatRight\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.handleLogout,\n            className: \"btn btn-danger logoutButton\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleProfileUpdate,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn btn-danger floatRight\",\n                        children: \"Save\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"freelancerProfile\",\n                        children: [\" Personal Details \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 140,\n                          columnNumber: 101\n                        }, this), \" \", this.state.email, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 141,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"First Name  \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"firstName\",\n                        value: this.state.firstName,\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Last Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"lastName\",\n                        value: this.state.lastName,\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Birth Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"birthDate\",\n                        type: \"date\",\n                        value: this.formatDate(this.state.birthDate),\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"address\",\n                        value: this.state.address,\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"City\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"city\",\n                        value: this.state.city,\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Phone Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 184,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"phoneNumber\",\n                        type: \"tel\",\n                        value: this.state.phoneNumber,\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Subscription\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"subscription\",\n                        value: this.state.subscription,\n                        onChange: this.handleProfileChange,\n                        className: \"form-control\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(CustomerProfile);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/amine/Desktop/Projet JEE/Frontend/titsuite/src/components/CustomerProfile.js"],"names":["React","Component","withRouter","HorizontalNav","CustomerProfile","state","email","firstName","lastName","phoneNumber","birthDate","city","address","subscription","in_edit","handleProfileChange","event","setState","target","name","value","handleProfileUpdate","preventDefault","user","activity","minimumWage","console","log","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","data","handleChange","handleLogout","props","history","push","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","componentDidMount","render","rest","logout"],"mappings":"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","sourcesContent":["import { React, Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport HorizontalNav from './HorizontalNav';\r\n\r\n\r\nclass CustomerProfile extends Component {\r\n    state = {\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        phoneNumber: '',\r\n        birthDate: '',\r\n        city: '',\r\n        address: '',\r\n        subscription: '',\r\n        in_edit: false\r\n    }\r\n\r\n    handleProfileChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    handleProfileUpdate = (event) => {\r\n        event.preventDefault();\r\n\r\n        const user = {\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName,\r\n            phoneNumber: this.state.phoneNumber,\r\n            birthDate: this.state.birthDate,\r\n            city: this.state.city,\r\n            address: this.state.address,\r\n            activity: this.state.activity,\r\n            minimumWage: this.state.minimumWage\r\n        };\r\n\r\n        console.log(user);\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(user)\r\n        };\r\n        fetch('/Titsuite-1.0-SNAPSHOT/api/users/profile/update', requestOptions)\r\n            .then(res => res.json())\r\n            .then((data) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        console.log(event);\r\n        this.setState(\r\n            {\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    handleLogout = (event) => {\r\n        event.preventDefault();\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        };\r\n        fetch('/Titsuite-1.0-SNAPSHOT/api/users/logout', requestOptions).then(res => res.json()).then((data) => {\r\n            console.log(data);\r\n            this.props.history.push('/login');\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        };\r\n        fetch('/Titsuite-1.0-SNAPSHOT/api/users/profile', requestOptions).then(res => res.json()).then((data) => {\r\n            console.log(data);\r\n            if (data != null) {\r\n                console.log(data);\r\n                this.setState(\r\n                    {\r\n                        email: data.email,\r\n                        firstName: data.firstName,\r\n                        lastName: data.lastName,\r\n                        phoneNumber: data.phoneNumber,\r\n                        birthDate: data.birthDate,\r\n                        city: data.city,\r\n                        address: data.address,\r\n                        subscription: data.subscription\r\n                    }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    formatDate = (date) => {\r\n        let d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n    \r\n        if (month.length < 2) \r\n            month = '0' + month;\r\n        if (day.length < 2) \r\n            day = '0' + day;\r\n    \r\n        return [year, month, day].join('-');\r\n    }\r\n\r\n    render() {\r\n        return (<div className=\"row\">\r\n                    <div className=\"col-2\">\r\n                        <HorizontalNav logout={this.props.rest.logout}/>\r\n                    </div>\r\n                \r\n                    <div className=\"col Content\">\r\n                        <h2 className=\"freelancerProfile\">Customer Profile</h2>\r\n                            <div className=\"floatRight\">\r\n                            <button onClick={this.handleLogout} className=\"btn btn-danger logoutButton\">Logout</button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n\r\n                <div className=\"main-body\">\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"card mb-3\">\r\n                            <div className=\"card-body\">\r\n                            <form onSubmit={this.handleProfileUpdate}>\r\n                                <div >\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col\">\r\n                                                <button type=\"submit\" className=\"btn btn-danger floatRight\">Save</button>\r\n                                                <h3 className=\"freelancerProfile\"> Personal Details <br/> {this.state.email} </h3>\r\n                                                <p></p>\r\n                                            </div>\r\n                                        </div>\r\n                                        {/* <div className=\"row\">\r\n                                            <div className=\"col\">\r\n                                                <label>Email : </label>\r\n                                                {/* <input name=\"email\" type=\"email\" value= readOnly={true} required /> */}\r\n                                            {/* </div>\r\n                                        <hr />\r\n                                        </div> */} \r\n                                        \r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">\r\n                                                <label>First Name  </label>\r\n                                                <input name=\"firstName\" value={this.state.firstName} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                            <div className=\"col-6\">\r\n                                                <label>Last Name</label>\r\n                                                <input name=\"lastName\" value={this.state.lastName} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                        </div>\r\n                                        <hr />\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col\">\r\n                                                <label>Birth Date</label>\r\n                                                <input name=\"birthDate\" type=\"date\" value={this.formatDate(this.state.birthDate)} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <hr />\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">\r\n                                                <label>Address</label>\r\n                                                <input name=\"address\" value={this.state.address} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                            <div className=\"col-6\">\r\n                                                <label>City</label>\r\n                                                <input name=\"city\" value={this.state.city} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                        </div>\r\n                                        <hr />\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col\">\r\n                                                <label>Phone Number</label>\r\n                                                <input name=\"phoneNumber\" type=\"tel\" value={this.state.phoneNumber} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n                                        <hr />\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-6\">\r\n                                                <label>Subscription</label>\r\n                                                <input name=\"subscription\" value={this.state.subscription} onChange={this.handleProfileChange} className=\"form-control\" required />\r\n                                            </div>\r\n                                        </div>\r\n                                      \r\n                                    </div>\r\n                                    </form>  \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n\r\n                </div>\r\n                \r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(CustomerProfile);"]},"metadata":{},"sourceType":"module"}