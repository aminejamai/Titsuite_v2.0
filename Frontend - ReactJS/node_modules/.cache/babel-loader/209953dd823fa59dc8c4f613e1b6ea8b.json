{"ast":null,"code":"import _classCallCheck from\"C:/Users/amine/Desktop/Projet JEE/Frontend/titsuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/amine/Desktop/Projet JEE/Frontend/titsuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/amine/Desktop/Projet JEE/Frontend/titsuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/amine/Desktop/Projet JEE/Frontend/titsuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import logo from\"./images/logo.svg\";import'./dashboard.css';import MesAnnonces from'./MesAnnonces';import Portfeuille from'./Portfeuille';import HorizontalNav from'./HorizontalNav';import{Line}from'react-chartjs-2';import{React,Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(){var _this;_classCallCheck(this,Dashboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={items:[]};return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var requestOptions={method:'GET',headers:{'Content-Type':'application/json'}};fetch('/Titsuite-1.0-SNAPSHOT/api/offers/available',requestOptions).then(function(res){return res.json();}).then(function(data){console.log(data);_this2.setState({items:data});});}},{key:\"acceptOffer\",value:function acceptOffer(event,id){event.preventDefault();var resp={id:id,response:\"prise en charge\"};console.log(resp);var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(resp)};fetch('/Titsuite-1.0-SNAPSHOT/api/offers/update',requestOptions).then(function(res){return res.json();}).then(function(data){console.log(data);});}},{key:\"render\",value:function render(){var _this3=this;var offers=function offers(){return _this3.state.items.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.description}),/*#__PURE__*/_jsx(\"td\",{children:item.activity}),/*#__PURE__*/_jsx(\"td\",{children:item.city}),/*#__PURE__*/_jsx(\"td\",{children:item.minimumWage}),/*#__PURE__*/_jsx(\"td\",{children:item.startDay}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(e){_this3.acceptOffer(e,item.id);},children:\"Accept\"})]})]});});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(HorizontalNav,{logout:this.props.rest.logout})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col Content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overview\",children:\"  Overview \"}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboardHeaer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"titleDashboard\",children:\"Revenus journaliers\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(Line,{data:{labels:['Jan','Fev','Mars','Avr','May','Juin','Juillet','Aug','Oct','Sept','Nov','Dec'],datasets:[{label:'Gain Mensuel',data:[12,19,8,5,10,15,12,19,3,60,7,5]}]},options:{maintainAspectRatio:false,scales:{yAxes:[{ticks:{beginAtZero:true}}]}}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"titleDashboard\",children:\"Prestations \\xE0 accept\\xE9es\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Activity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Minimum Wage\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Accepter / Refuser\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:offers()})]})]})]})]})});}}]);return Dashboard;}(Component);export default Dashboard;","map":{"version":3,"sources":["C:/Users/amine/Desktop/Projet JEE/Frontend/titsuite/src/components/Dashboard.js"],"names":["MesAnnonces","Portfeuille","HorizontalNav","Line","React","Component","Dashboard","state","items","requestOptions","method","headers","fetch","then","res","json","data","console","log","setState","event","id","preventDefault","resp","response","body","JSON","stringify","offers","map","item","description","activity","city","minimumWage","startDay","e","acceptOffer","props","rest","logout","labels","datasets","label","maintainAspectRatio","scales","yAxes","ticks","beginAtZero"],"mappings":"4rBACA,MAAO,iBAAP,CACA,MAAOA,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,OAAQC,KAAR,CAAeC,SAAf,KAA+B,OAA/B,C,2FAEMC,CAAAA,S,uUACFC,K,CAAQ,CACJC,KAAK,CAAG,EADJ,C,sEAIR,4BAAoB,iBAChB,GAAMC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFU,CAAvB,CAIAC,KAAK,CAAC,6CAAD,CAAgDH,cAAhD,CAAL,CAAqEI,IAArE,CAA0E,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAA7E,EAA6FF,IAA7F,CAAkG,SAACG,IAAD,CAAU,CACxGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAACG,QAAL,CACI,CAACX,KAAK,CAAGQ,IAAT,CADJ,EAGH,CALD,EAMH,C,2BAED,qBAAYI,KAAZ,CAAmBC,EAAnB,CAAsB,CAClBD,KAAK,CAACE,cAAN,GAEA,GAAMC,CAAAA,IAAI,CAAG,CACTF,EAAE,CAAGA,EADI,CAETG,QAAQ,CAAE,iBAFD,CAAb,CAKAP,OAAO,CAACC,GAAR,CAAYK,IAAZ,EAEA,GAAMd,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFU,CAGnBc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAHa,CAAvB,CAKAX,KAAK,CAAC,0CAAD,CAA6CH,cAA7C,CAAL,CACKI,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAACG,IAAD,CAAU,CACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACH,CAJL,EAMH,C,sBAED,iBAAQ,iBACJ,GAAMY,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAI,CACf,MAAO,CAAA,MAAI,CAACrB,KAAL,CAAWC,KAAX,CAAiBqB,GAAjB,CAAqB,SAACC,IAAD,CAAU,CAClC,mBAAQ,mCACJ,WAAI,KAAK,CAAC,KAAV,UAAiBA,IAAI,CAACT,EAAtB,EADI,cAEJ,oBAAKS,IAAI,CAACC,WAAV,EAFI,cAGJ,oBAAKD,IAAI,CAACE,QAAV,EAHI,cAIJ,oBAAKF,IAAI,CAACG,IAAV,EAJI,cAKJ,oBAAKH,IAAI,CAACI,WAAV,EALI,cAMJ,oBAAKJ,IAAI,CAACK,QAAV,EANI,cAOJ,uCAAK,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,OAAO,CAAE,iBAACC,CAAD,CAAO,CAAC,MAAI,CAACC,WAAL,CAAiBD,CAAjB,CAAoBN,IAAI,CAACT,EAAzB,EAA6B,CAAhG,oBAAL,GAPI,GAAR,CAWH,CAZM,CAAP,CAaH,CAdD,CAeA,mBACA,kCACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,aAAD,EAAe,MAAM,CAAE,KAAKiB,KAAL,CAAWC,IAAX,CAAgBC,MAAvC,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,SAAS,CAAC,UAAf,yBADJ,cAEI,YAAK,SAAS,CAAC,gBAAf,uBACI,YAAK,SAAS,CAAC,gBAAf,iCADJ,EAFJ,cAKI,YAAK,SAAS,CAAC,OAAf,uBAAuB,KAAC,IAAD,EACnB,IAAI,CAAE,CACNC,MAAM,CAAE,CAAC,KAAD,CAAQ,KAAR,CAAe,MAAf,CAAuB,KAAvB,CAA8B,KAA9B,CAAqC,MAArC,CAA6C,SAA7C,CAAwD,KAAxD,CAA+D,KAA/D,CAAsE,MAAtE,CAA8E,KAA9E,CAAqF,KAArF,CADF,CAENC,QAAQ,CAAE,CACN,CACIC,KAAK,CAAE,cADX,CAEI3B,IAAI,CAAE,CAAC,EAAD,CAAK,EAAL,CAAS,CAAT,CAAY,CAAZ,CAAe,EAAf,CAAmB,EAAnB,CAAuB,EAAvB,CAA2B,EAA3B,CAA+B,CAA/B,CAAkC,EAAlC,CAAsC,CAAtC,CAAyC,CAAzC,CAFV,CADM,CAFJ,CADa,CAWnB,OAAO,CAAE,CACT4B,mBAAmB,CAAE,KADZ,CAETC,MAAM,CAAE,CACJC,KAAK,CAAE,CACP,CACIC,KAAK,CAAE,CACHC,WAAW,CAAE,IADV,CADX,CADO,CADH,CAFC,CAXU,EAAvB,EALJ,cAgCI,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,2CADJ,cAEI,eAAO,SAAS,CAAC,OAAjB,wBACI,oCACI,mCACA,WAAI,KAAK,CAAC,KAAV,iBADA,cAEA,WAAI,KAAK,CAAC,KAAV,yBAFA,cAGA,WAAI,KAAK,CAAC,KAAV,sBAHA,cAIA,WAAI,KAAK,CAAC,KAAV,kBAJA,cAKA,WAAI,KAAK,CAAC,KAAV,0BALA,cAMA,WAAI,KAAK,CAAC,KAAV,wBANA,cAOA,WAAI,KAAK,CAAC,KAAV,gCAPA,GADJ,EADJ,cAYI,uBACKpB,MAAM,EADX,EAZJ,GAFJ,GAhCJ,GAJJ,GADJ,EADA,CA8DF,C,uBAvHkBvB,S,EA0HxB,cAAgBC,CAAAA,SAAhB","sourcesContent":["import logo from './images/logo.svg';\r\nimport './dashboard.css';\r\nimport MesAnnonces from './MesAnnonces';\r\nimport Portfeuille from './Portfeuille';\r\nimport HorizontalNav from './HorizontalNav';\r\nimport { Line } from 'react-chartjs-2';\r\nimport {React, Component} from 'react';\r\n\r\nclass Dashboard extends Component {\r\n    state = {\r\n        items : []\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        };\r\n        fetch('/Titsuite-1.0-SNAPSHOT/api/offers/available', requestOptions).then(res => res.json()).then((data) => {\r\n            console.log(data);\r\n            this.setState(\r\n                {items : data}\r\n            )\r\n        });\r\n    }\r\n\r\n    acceptOffer(event, id){\r\n        event.preventDefault();\r\n\r\n        const resp = {\r\n            id : id,\r\n            response: \"prise en charge\"\r\n        };\r\n\r\n        console.log(resp);\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(resp)\r\n        };\r\n        fetch('/Titsuite-1.0-SNAPSHOT/api/offers/update', requestOptions)\r\n            .then(res => res.json())\r\n            .then((data) => {\r\n                console.log(data);\r\n            }\r\n        );\r\n    }\r\n\r\n    render(){\r\n        const offers = ()=>{\r\n            return this.state.items.map((item) => {\r\n                return (<tr>\r\n                    <th scope=\"row\">{item.id}</th>\r\n                    <td>{item.description}</td>\r\n                    <td>{item.activity}</td>\r\n                    <td>{item.city}</td>\r\n                    <td>{item.minimumWage}</td>\r\n                    <td>{item.startDay}</td>\r\n                    <td> <button type=\"button\" className=\"btn btn-primary\" onClick={(e) => {this.acceptOffer(e, item.id)} }>Accept</button>\r\n                </td> \r\n                </tr>\r\n                )\r\n            })\r\n        }\r\n        return (\r\n        <div>\r\n            <div className=\"row\">\r\n                <div className=\"col-2\">\r\n                    <HorizontalNav logout={this.props.rest.logout}/>\r\n                </div>\r\n                <div className=\"col Content\">\r\n                    <div className=\"overview\">  Overview </div>\r\n                    <div className=\"dashboardHeaer\">\r\n                        <div className=\"titleDashboard\">Revenus journaliers</div>\r\n                    </div>\r\n                    <div className=\"chart\"><Line \r\n                        data={{\r\n                        labels: ['Jan', 'Fev', 'Mars', 'Avr', 'May', 'Juin', 'Juillet', 'Aug', 'Oct', 'Sept', 'Nov', 'Dec'],\r\n                        datasets: [\r\n                            {\r\n                                label: 'Gain Mensuel',\r\n                                data: [12, 19, 8, 5, 10, 15, 12, 19, 3, 60, 7, 5],\r\n                            }\r\n                        ]\r\n                        }}\r\n                        \r\n                        options={{\r\n                        maintainAspectRatio: false,\r\n                        scales: {\r\n                            yAxes: [\r\n                            {\r\n                                ticks: {\r\n                                    beginAtZero: true,\r\n                                },\r\n                            },\r\n                            ],\r\n                        }\r\n                        }}\r\n                    />\r\n                    </div>\r\n\r\n\r\n                    <div className=\"table\">\r\n                        <div className=\"titleDashboard\">Prestations à acceptées</div>\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                <th scope=\"col\">ID </th>\r\n                                <th scope=\"col\">Description</th>\r\n                                <th scope=\"col\">Activity</th>\r\n                                <th scope=\"col\">City</th>\r\n                                <th scope=\"col\">Minimum Wage</th>\r\n                                <th scope=\"col\">Start Date</th>\r\n                                <th scope=\"col\">Accepter / Refuser</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {offers()}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n    )}\r\n}\r\n\r\nexport default  Dashboard;"]},"metadata":{},"sourceType":"module"}